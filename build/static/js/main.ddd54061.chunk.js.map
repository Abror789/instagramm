{"version":3,"sources":["firebase.js","Post.js","ImageUpload.js","App.js","index.js"],"names":["db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","Post","postId","username","user","imageUrl","caption","useState","comments","setComments","comment","setComment","style","setStyle","styleSecond","setStyleSecond","useEffect","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","className","Avatar","alt","src","display","onClick","text","type","placeholder","value","onChange","e","target","disabled","event","preventDefault","add","displayName","timestamp","FieldValue","serverTimestamp","ImageUpload","image","setImage","progress","setProgress","setCaption","max","files","ref","name","put","on","Math","round","bytesTransferred","totalBytes","error","console","log","alert","message","child","getDownloadURL","then","url","getModalStyle","top","left","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","App","classes","modalStyle","posts","setPosts","open","setOpen","openSignIn","setOpenSignIn","setUsername","email","setEmail","password","setPassword","setUser","onAuthStateChanged","authUser","id","post","Modal","onClose","action","Input","Button","createUserWithEmailAndPassword","updateProfile","catch","signInWithEmailAndPassword","signOut","responsive","superLargeDesktop","breakpoint","min","items","desktop","tablet","mobile","maxWidth","hideCaption","containerTagName","protocol","injectScript","onLoading","onSuccess","onAfterRender","onFailure","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ddd54061.chunk.js","sourcesContent":["import firebase from \"firebase/compat\";\r\n\r\nconst firebaseApp = firebase.initializeApp(\r\n    {\r\n        apiKey: \"AIzaSyDy0s1eNuUeEuECjyutb21xtq_82SL-YpU\",\r\n        authDomain: \"instagramm-c5626.firebaseapp.com\",\r\n        projectId: \"instagramm-c5626\",\r\n        storageBucket: \"instagramm-c5626.appspot.com\",\r\n        messagingSenderId: \"399685816079\",\r\n        appId: \"1:399685816079:web:33dd15e07870e61de4387a\",\r\n        measurementId: \"G-PCXRJCY0TG\"\r\n    }\r\n)\r\nconst db = firebaseApp.firestore();\r\nconst auth =firebase.auth();\r\nconst storage=firebase.storage();\r\n\r\nexport {db,auth,storage};","import React, {useState,useEffect} from 'react';\r\nimport './post.css';\r\nimport {Avatar} from \"@material-ui/core\";\r\nimport {db} from \"./firebase\";\r\nimport firebase from \"firebase/compat\";\r\n\r\nconst Post = ({postId,username,user,imageUrl,caption}) => {\r\n    const [comments,setComments]=useState([]);\r\n    const [comment, setComment]=useState('');\r\n    const [style,setStyle]=useState('none')\r\n    const [styleSecond,setStyleSecond]=useState('inline')\r\n    useEffect(()=>{\r\n        let unsubscribe;\r\n        if (postId){\r\n            unsubscribe=db\r\n                .collection('posts')\r\n                .doc(postId)\r\n                .collection('comments')\r\n                .orderBy('timestamp','desc')\r\n                .onSnapshot((snapshot)=>{\r\n                    setComments(snapshot.docs.map((doc)=>doc.data()));\r\n                });\r\n        }\r\n        return ()=>{\r\n            unsubscribe();\r\n        };\r\n    },[postId])\r\n    const postComment=(event)=>{\r\n        event.preventDefault();\r\n        db.collection('posts').doc(postId).collection('comments').add({\r\n            text:comment,\r\n            username:user.displayName,\r\n            timestamp:firebase.firestore.FieldValue.serverTimestamp()\r\n        });\r\n        setComment('');\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"post\">\r\n                <div className=\"post__header\">\r\n                    <Avatar className=\"post__avatar\"\r\n                            alt=\"cristiano\"\r\n                            src={imageUrl}/>\r\n                    <h3>{username}</h3>\r\n                </div>\r\n                <img className=\"post__image\"\r\n                     src={imageUrl} alt=\"\"/>\r\n\r\n\r\n                <h4 className=\"post__text\"><strong>{username}</strong> {caption}</h4>\r\n                <div className=\"like\">\r\n                   <div className=\"first\">\r\n                       <i style={{display:styleSecond}} onClick={()=>{\r\n                           setStyle('inline')\r\n                           setStyleSecond('none')\r\n                       }} className=\"far fa-heart\"/>\r\n                       <i style={{display:style}} onClick={()=>{\r\n                           setStyle('none')\r\n                           setStyleSecond('inline')\r\n                       }} className=\"fas fa-heart\"/>\r\n                       <i className=\"far fa-comment\"/>\r\n                       <i className=\"far fa-paper-plane\"/>\r\n                   </div>\r\n                    <div className=\"second\">\r\n                        <i className=\"far fa-bookmark\"/>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"post__comments\">\r\n                    {comments.map((comment)=>(\r\n                        <p>\r\n                            <b>{comment.username}</b>  {comment.text}\r\n                        </p>\r\n                    ))}\r\n                </div>\r\n\r\n                {user && (\r\n                    <form className=\"post__commentBox\">\r\n                        <input\r\n                            className=\"post__input\"\r\n                            type=\"text\"\r\n                            placeholder=\"Add a comment...\"\r\n                            value={comment}\r\n                            onChange={(e) =>setComment(e.target.value)}\r\n                        />\r\n                        <button\r\n                            className=\"post__button\"\r\n                            disabled={!comment}\r\n                            type=\"submit\"\r\n                            onClick={postComment}\r\n                        >\r\n                            Post\r\n                        </button>\r\n                    </form>\r\n                )}\r\n\r\n\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Post;","import React,{useState} from 'react';\r\nimport {Button} from \"@material-ui/core\";\r\nimport {storage,db} from \"./firebase\";\r\nimport * as url from \"url\";\r\nimport firebase from \"firebase/compat\";\r\nimport \"./imageUpload.css\"\r\nconst ImageUpload = ({username}) => {\r\n    const [image,setImage]=useState(null);\r\n    const [progress,setProgress]=useState(0);\r\n    const [caption,setCaption]=useState('')\r\n    const handleChange=(e)=>{\r\n        if (e.target.files[0]){\r\n            setImage(e.target.files[0])\r\n        }\r\n    }\r\n    const handleUpload=()=>{\r\n        const uploadTask=storage.ref(`images/${image.name}`).put(image)\r\n\r\n        uploadTask.on(\r\n            \"state_changed\",\r\n            (snapshot)=>{\r\n                //progress function...\r\n                const progress=Math.round(\r\n                    (snapshot.bytesTransferred / snapshot.totalBytes)*100\r\n                );\r\n                setProgress(progress)\r\n            },\r\n            (error)=>{\r\n                //error function...\r\n                console.log(error)\r\n                alert(error.message)\r\n            },\r\n            ()=>{\r\n                //complete function\r\n                storage\r\n                    .ref('images')\r\n                    .child(image.name)\r\n                    .getDownloadURL()\r\n                    .then(url=>{\r\n                        //post image inside db\r\n                        db.collection('posts').add({\r\n                          timestamp:firebase.firestore.FieldValue.serverTimestamp(),\r\n                            caption:caption,\r\n                            imageUrl:url,\r\n                            username:username\r\n                        });\r\n                        setProgress(0);\r\n                        setCaption('');\r\n                        setImage(null);\r\n                    })\r\n            }\r\n        )\r\n    }\r\n    return (\r\n        <div className=\"imageUpload\">\r\n            <progress className=\"imageUpload__progress form-control mt-3\" value={progress} max=\"100\" />\r\n            <input className=\"form-control mt-3\" type=\"text\" placeholder=\"Enter a caption...\" onChange={event => setCaption(event.target.value)} value={caption}/>\r\n            <input className=\"form-control mt-3\" type=\"file\" onChange={handleChange}/>\r\n            <button className=\"btn btn-success mt-3\" onClick={handleUpload}>\r\n                Upload\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImageUpload;","import React, {useState, useEffect} from 'react';\nimport \"./CSS/main.css\"\nimport Post from \"./Post\";\nimport {auth, db} from \"./firebase\";\nimport {Avatar, Button, Input, makeStyles, Modal} from \"@material-ui/core\";\nimport ImageUpload from \"./ImageUpload\";\nimport InstagramEmbed from 'react-instagram-embed';\nimport Carousel from \"react-multi-carousel\";\nimport \"react-multi-carousel/lib/styles.css\";\n\nfunction getModalStyle() {\n    const top = 50;\n    const left = 50;\n\n    return {\n        top: `${top}%`,\n        left: `${left}%`,\n        transform: `translate(-${top}%, -${left}%)`,\n    };\n}\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        position: 'absolute',\n        width: 400,\n        backgroundColor: theme.palette.background.paper,\n        border: '2px solid #000',\n        boxShadow: theme.shadows[5],\n        padding: theme.spacing(2, 4, 3),\n    },\n}));\n\nconst App = () => {\n    const classes = useStyles();\n    const [modalStyle] = useState(getModalStyle);\n    const [posts, setPosts] = useState([]);\n    const [open, setOpen] = useState(false);\n    const [openSignIn,setOpenSignIn]=useState(false);\n    const [username, setUsername] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [user, setUser] = useState(null);\n    useEffect(() => {\n        const unsubscribe = auth.onAuthStateChanged((authUser) => {\n            if (authUser) {\n                //user has logged in...\n                console.log(authUser);\n                setUser(authUser);\n            } else {\n                //user has logged out...\n                setUser(null);\n            }\n        })\n        return () => {\n            //perform some cleanup actions\n            unsubscribe()\n        }\n    }, [user, username])\n    useEffect(() => {\n        db.collection('posts').orderBy('timestamp','desc').onSnapshot(snapshot => {\n            setPosts(snapshot.docs.map(doc => ({\n                id: doc.id,\n                post: doc.data()\n            })))\n        })\n    }, []);\n    const signUp = (event) => {\n        event.preventDefault();\n        auth\n            .createUserWithEmailAndPassword(email, password)\n            .then((authUser) => {\n                return authUser.user.updateProfile({\n                    displayName: username\n                })\n            })\n            .catch((error) => alert(error.message));\n\n        setOpen(false);\n    }\n    const signIn=(event)=>{\n        event.preventDefault();\n\n        auth\n            .signInWithEmailAndPassword(email,password)\n            .catch((error)=>alert(error.message))\n\n\n        setOpenSignIn(false)\n    }\n    const handleClose = () => {\n        setOpen(false);\n    };\n    const responsive = {\n        superLargeDesktop: {\n            // the naming can be any, depends on you.\n            breakpoint: {max: 4000, min: 3000},\n            items: 5\n        },\n        desktop: {\n            breakpoint: {max: 3000, min: 1024},\n            items: 7\n        },\n        tablet: {\n            breakpoint: {max: 1024, min: 464},\n            items: 5\n        },\n        mobile: {\n            breakpoint: {max: 464, min: 0},\n            items: 4\n        }\n    };\n    return (\n        <>\n            <div className=\"app\">\n\n\n                <Modal\n                    open={open}\n                    onClose={handleClose}\n                >\n                    <div style={modalStyle} className={classes.paper}>\n\n                        <form className=\"app__signup\" action=\"\">\n                            <center>\n                                <img className=\"app__headerImage\"\n                                     src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                                     alt=\"\"/>\n                            </center>\n                            <Input\n                                type=\"text\"\n                                placeholder=\"username\"\n                                value={username}\n                                onChange={(e) => setUsername(e.target.value)}\n                            />\n                            <Input\n                                type=\"text\"\n                                placeholder=\"email\"\n                                value={email}\n                                onChange={(e) => setEmail(e.target.value)}\n                            />\n                            <Input\n                                type=\"password\"\n                                placeholder=\"password\"\n                                value={password}\n                                onChange={(e) => setPassword(e.target.value)}\n                            />\n                            <Button type=\"submit\" onClick={signUp}>Sign Up</Button>\n                        </form>\n\n                    </div>\n                </Modal>\n                <Modal\n                    open={openSignIn}\n                    onClose={()=>setOpenSignIn(false)}\n                >\n                    <div style={modalStyle} className={classes.paper}>\n\n                        <form className=\"app__signup\" action=\"\">\n                            <center>\n                                <img className=\"app__headerImage\"\n                                     src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                                     alt=\"\"/>\n                            </center>\n                            <Input\n                                type=\"text\"\n                                placeholder=\"email\"\n                                value={email}\n                                onChange={(e) => setEmail(e.target.value)}\n                            />\n                            <Input\n                                type=\"password\"\n                                placeholder=\"password\"\n                                value={password}\n                                onChange={(e) => setPassword(e.target.value)}\n                            />\n                            <Button type=\"submit\" onClick={signIn}>Sign In</Button>\n                        </form>\n\n                    </div>\n                </Modal>\n                <div className=\"container pl-0 pr-0\">\n                    <div className=\"app__header\">\n                        <img className=\"app__headerImage\"\n                             src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n                             alt=\"\"/>\n\n                        <input type=\"text\"\n                               placeholder='search'\n                               className=\"text-center\"\n                        />\n                        <div className=\"icons d-flex\">\n                            <i className=\"fas fa-home\"/>\n                            <div className=\"message\">\n                                <i className=\"fab fa-facebook-messenger\"/>\n                                <div className=\"number\">1</div>\n                            </div>\n                            <i className=\"far fa-compass\"/>\n                            <i className=\"far fa-heart\"/>\n                        </div>\n\n                        {user ? (\n                            <Button className=\"btn btn-warning\" onClick={() => auth.signOut()}>Log Out</Button>\n                        ):(\n                            <div className=\"app__loginContainer\">\n                                <Button className=\"btn btn-success\" onClick={() => setOpenSignIn(true)}>Sign In</Button>\n                                <Button className=\"btn btn-success\" onClick={() => setOpen(true)}>Sign Up</Button>\n                            </div>\n\n                        )}\n                    </div>\n                    <div className=\"avatars\">\n                        <Carousel responsive={responsive}>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://icdn.lenta.ru/images/2021/08/05/21/20210805212809878/square_320_aa536b0d9a24ec541bc0b3378535e0ca.jpg'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://img.olympicchannel.com/images/image/private/t_1-1_600/f_auto/v1538355600/primary/pcxgwhoweqzzhiuqbwqw'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://mildaintrainings.com/wp-content/uploads/2017/11/react-logo.png'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://hips.hearstapps.com/hmg-prod.s3.amazonaws.com/images/singer-and-actress-selena-gomez-poses-as-she-arrives-for-news-photo-1586786642.jpg?crop=0.668xw:1.00xh;0.0323xw,0&resize=480:*'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://upload.wikimedia.org/wikipedia/commons/thumb/d/da/Justin_Bieber_in_2015.jpg/274px-Justin_Bieber_in_2015.jpg'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://www.visionmodels.co.uk/images/women.jpg'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://www.bmwgroup.com/content/dam/grpw/websites/bmwgroup_com/home/720x720_the-bmw-ix-xdrive50-.jpg.grp-transform/small/720x720_the-bmw-ix-xdrive50-.jpg'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://im.drivenn.ru/mq0vca7pzrimb_162nrox_h-1000/chevrolet-malibu-foto-2.jpeg'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://chevrolet-avilon.ru/cars/chevrolet-tahoe/image/exterior-05.jpg'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ358I_SZ_sZCeEFVpgJnTyUdSUXNzmZRBrbJXP7RgTqImRh27THkuyGEF-nBHO4ptguMc&usqp=CAU'/>\n\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://1.bp.blogspot.com/-aXEm7bJf15M/XXfSIDT5DXI/AAAAAAAALEE/CHFwUErYZiEl-zAcXyfDE8Wzi80JpCv9gCLcBGAs/s1600/uzbekistan-flag.gif'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://27sysday.ru/wp-content/uploads/2021/05/javascript.png'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://media-exp1.licdn.com/dms/image/C560BAQH7G4ppO5H97A/company-logo_200_200/0/1557483616368?e=2159024400&v=beta&t=ue5J5IOXiVSwhGXTrfXH9Ucn1hXX2F0zaLDK3Yxk0Wo'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://img.rosbalt.ru/photobank/8/a/5/0/v4hGdWLB-580.jpg'/>\n                            <Avatar className=\"post__avatar\"\n                                    alt=\"cristiano\"\n                                    src='https://ichef.bbci.co.uk/news/640/cpsprodpb/0873/production/_112236120_gettyimages-1130598318.jpg'/>\n\n                        </Carousel>\n\n                    </div>\n                    <div className=\"app__posts\">\n                        <div className=\"app__postLeft\">\n                            {\n                                posts.map(({id, post}) => (\n                                    <Post key={id}\n                                          postId={id}\n                                          user={user}\n                                          username={post.username}\n                                          caption={post.caption}\n                                          imageUrl={post.imageUrl}/>\n                                ))\n                            }\n                        </div>\n                        <div className=\"app__postRight\">\n                            <InstagramEmbed\n                                url='https://instagr.am/p/Zn1Xz/'\n                                // clientAccessToken='123|456'\n                                maxWidth={320}\n                                hideCaption={false}\n                                containerTagName='div'\n                                protocol=''\n                                injectScript\n                                onLoading={() => {}}\n                                onSuccess={() => {}}\n                                onAfterRender={() => {}}\n                                onFailure={() => {}}\n                            />\n                        </div>\n\n\n                    </div>\n                </div>\n\n\n                {user?.displayName ? (<ImageUpload username={user.displayName}/>\n                ) : (<h3 className=\"headerThree\">Sorry you need to login to upload !!!</h3>)}\n            </div>\n\n        </>\n    );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}